@using System.Web.Mvc;
@using System.Web.Mvc.Html;
@using VocaDb.Web.Helpers;
@using VocaDb.Model.DataContracts.Albums;
@using VocaDb.Model.DataContracts.Artists;
@using VocaDb.Model.DataContracts.Songs;
@using VocaDb.Model.DataContracts.Tags;
@inherits VocaDb.Web.Code.HelperPage

@helper AlbumTagUsages(IEnumerable<AlbumTagUsageContract> links, 
	Func<AlbumWithAdditionalNamesContract, string> extraData = null) {

	<ul>
	@foreach (var link in links) {
		<li>
			@Html.ActionLink(link.Album.Name, "Details", "Album", new { id = link.Album.Id }, null)
			@(" (" + link.Count + ")")
			@if (extraData != null) {
				@extraData(link.Album)
			}
			<br />
			<span class="extraInfo">@link.Album.ArtistString</span>
		</li>
 }
	</ul>
	
}

@helper ArtistTagUsages(IEnumerable<ArtistTagUsageContract> artists, 
	Func<ArtistWithAdditionalNamesContract, string> extraData = null) {

	<ul>
	@foreach (var link in artists) {
		<li>
			@Html.ActionLink(link.Artist.Name, "Details", "Artist", new { id = link.Artist.Id }, null)
			@(" (" + link.Count + ")")
			@if (extraData != null) {
				@extraData(link.Artist)
			}
			<br />
			<span class="extraInfo">@link.Artist.AdditionalNames</span>
		</li>
 }
	</ul>
	
}

@helper SongTagUsages(IEnumerable<SongTagUsageContract> links, 
	Func<SongWithAdditionalNamesContract, string> extraData = null) {

	<ul>
	@foreach (var link in links) {
		<li>
			@Html.ActionLink(link.Song.Name, "Details", "Song", new { id = link.Song.Id }, null)
			@(" (" + link.Count + ")")
			@if (extraData != null) {
				@extraData(link.Song)
			}
			<br />
			<span class="extraInfo">@link.Song.ArtistString</span>
		</li>
 }
	</ul>
	
}
