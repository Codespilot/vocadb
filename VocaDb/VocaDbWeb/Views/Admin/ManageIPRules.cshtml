@using Newtonsoft.Json
@model VocaDb.Model.Domain.Security.IPRule[]

@{
    ViewBag.Title = "Manage IP rules";
}

@section BodyScripts {
<script type="text/javascript" src="@Url.Content("~/Scripts/Admin/ManageIPRules.js")"></script>
<script type="text/javascript">
    $(document).ready(function () {
        var json = @Html.Raw(JsonConvert.SerializeObject(Model));
		initPage(json);
	});
</script>    
}

<form id="manageRules" data-bind="submit: save">
    
    @Helpers.SaveBtn()
    
    <table data-bind="foreach: rules">
        <tr>
            <td data-bind="text: Address"></td>
            <td><a href="#" class="textLink deleteLink" data-bind="click: $parent.remove">@ViewRes.SharedStrings.Remove</a></td>
        </tr>
    </table>
    <table>
        <tr data-bind="with: newRule">
            <td><input type="text" maxlength="40" data-bind="value: Address" /></td>
            <td><a href="#" class="textLink addLink" data-bind="click: $parent.add">@ViewRes.SharedStrings.Add</a></td>
        </tr>
    </table>
    
    @Helpers.SaveBtn()

</form>