@using VocaDb.Web.Helpers;
@model VocaDb.Model.DataContracts.ReleaseEvents.ReleaseEventDetailsContract

@{
	
	ViewBag.Title = ViewRes.Event.DetailsStrings.Event + " - " + Model.Name;

	ViewBag.Parents = new[] { 
		Html.ActionLink(ViewRes.SharedStrings.ReleaseEvents, "EventsBySeries")
	};
	
}

@section Toolbar {
	@if (Login.CanManageDb) {
		@Html.ActionLink(ViewRes.SharedStrings.Edit, "Edit", new { id = Model.Id }, new { id = "editEventLink" })
	}
}

@if (Model.Series != null) {
	<p>@ViewRes.Event.DetailsStrings.Series: @Html.ActionLink(Model.Series.Name, "SeriesDetails", new { id = Model.Series.Id })</p>
}

@if (Model.Date != null) {
	<p>@ViewRes.Event.DetailsStrings.OccurrenceDate: @Model.Date.Value.ToShortDateString()</p>
}

@if (!string.IsNullOrEmpty(Model.Description)) {
	@HtmlHelpers.FormatText(Model.Description)
}

<h3>@ViewRes.SharedStrings.Albums</h3>
<ul>
	@ArtistHelpers.Albums(Model.Albums, showArtists : true)
</ul>

@section BodyScripts {
<script type="text/javascript">

	$(document).ready(function () {
		$("#editEventLink").button({ icons: { primary: 'ui-icon-wrench'} });
	});

</script>
}