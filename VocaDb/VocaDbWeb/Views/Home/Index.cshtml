@using VocaDb.Web.Helpers;
@using R = ViewRes.Home;
@model VocaDb.Model.DataContracts.UseCases.FrontPageContract

@{
	ViewBag.DisplaySocialLinks = true;
}

<h3>@ViewRes.Home.IndexStrings.Welcome</h3>

@if (Model.NewSongs.Any()) {
<h4>@R.IndexStrings.RecentSongs (@Html.ActionLink(ViewRes.Home.IndexStrings.ViewMore, "Index", "Song", new { sort = VocaDb.Model.Service.SongSortRule.AdditionDate }, null))</h4>
    
<ul id="songs-navi" class="scrollable-navi">
    @foreach (var song in Model.NewSongs) {
        <li id="@("#songPV_" + PVHelper.PrimaryPV(song.PVs).Id)" class="alignTop">
			<input type="hidden" class="songId" value="@song.Id" />
			<img src="@song.ThumbUrl" alt="Cover" class="coverPicThumb" />
            <strong>@song.Name</strong>
            @song.ArtistString				
		</li>
    }
</ul>

<div id="songPreview" class="pvViewerContent">
    <a class="btn btn-info" id="songLink" href="@Url.Action("Details", "Song", new { id = Model.NewSongs.First().Id })">@R.IndexStrings.ViewSongInfo</a>
	<div id="songPVPlayer">
	@Helpers.EmbedPV(PVHelper.PrimaryPV(Model.NewSongs.First().PVs))
    </div>
</div>
}

<br />
<h4>@R.IndexStrings.NewAlbums (@Html.ActionLink(ViewRes.Home.IndexStrings.ViewMore, "Index", "Album", new { sort = VocaDb.Model.Service.AlbumSortRule.ReleaseDate }, null))</h4>
@AlbumHelpers.AlbumThumbs(Model.NewAlbums)

<h4>@R.IndexStrings.TopAlbums (@Html.ActionLink(ViewRes.Home.IndexStrings.ViewMore, "Index", "Album", new { sort = VocaDb.Model.Service.AlbumSortRule.RatingAverage }, null))</h4>
@AlbumHelpers.AlbumThumbs(Model.TopAlbums)

<br />
<h4>@ViewRes.Home.IndexStrings.News (@Html.ActionLink(ViewRes.Home.IndexStrings.ViewAll, "Index", "NewsEntry"))</h4>

@foreach (var entry in Model.NewsEntries) {
	@ActivityfeedHelpers.NewsEntry(entry);
}

<br />
<h4>@ViewRes.Home.IndexStrings.RecentActivity (@Html.ActionLink(ViewRes.Home.IndexStrings.ViewMore, "Index", "ActivityEntry"))</h4>

@foreach (var entry in Model.ActivityEntries) {
	@ActivityfeedHelpers.ActivityEntry(entry);
}

<br />
<h4>@R.IndexStrings.SearchSite</h4>
@Helpers.GoogleSiteSearch()

@section BodyScripts {
    
    <script type="text/javascript" src="@Url.Content("~/Scripts/Home/Index.js")"></script>

}