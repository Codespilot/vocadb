@using VocaDb.Web.Helpers;
@model VocaDb.Web.Models.UserEdit

@{
	ViewBag.Title = "Edit user - " + Model.Name;
	ViewBag.Parents = new[] { 
		Html.ActionLink("Users", "Index"), 
		LinkExtensions.ActionLink(Html, Model.Name, "Details", new { id = Model.Id }) 
	};	
}

@using(Html.BeginForm()) {	
	@Html.HiddenFor(m => m.Id)
	
	<fieldset>
		<legend>Account settings</legend>
		<p>
			@Html.CheckBoxFor(m => m.Active)
			<text>Active</text>
		</p>

		<p>
		@Html.LabelFor(m => m.GroupId)
		@Html.EnumDropDownListFor(m => m.GroupId, Translate.UserGroups)
		</p>
	</fieldset>
	
	<fieldset>
		<legend>Additional permissions</legend>
		foreach (var entry in Model.Permissions) {	 
			Html.RenderPartial("PermissionEditRow", entry);											 
		}
	</fieldset>
	
	<input type="submit" value="Save" />
	
}